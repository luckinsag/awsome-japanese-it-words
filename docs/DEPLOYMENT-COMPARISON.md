# ITWORDS éƒ¨ç½²æ–¹å¼å¯¹æ¯”

## ğŸ“Š éƒ¨ç½²æ–¹å¼å¯¹æ¯”

| ç‰¹æ€§ | åŸå§‹éƒ¨ç½²æ–¹å¼ | ä¼˜åŒ–éƒ¨ç½²æ–¹å¼ |
|------|-------------|-------------|
| **éƒ¨ç½²é€Ÿåº¦** | è¾ƒæ…¢ | âš¡ æ›´å¿« |
| **ç¨³å®šæ€§** | ä¸€èˆ¬ | ğŸ›¡ï¸ æ›´ç¨³å®š |
| **ç½‘ç»œä¾èµ–** | é«˜ | ğŸ“¡ ä½ |
| **é”™è¯¯ç‡** | è¾ƒé«˜ | âœ… æ›´ä½ |
| **ç»´æŠ¤æ€§** | ä¸€èˆ¬ | ğŸ”§ æ›´å¥½ |

## ğŸ”„ åŸå§‹éƒ¨ç½²æ–¹å¼ (deploy-to-ec2.sh)

### æµç¨‹
1. ä¼ è¾“æºä»£ç åˆ°EC2
2. åœ¨EC2ä¸Šæ„å»ºDockeré•œåƒ
3. å¯åŠ¨å®¹å™¨

### ä¼˜ç‚¹
- éƒ¨ç½²æ–‡ä»¶è¾ƒå°
- é€‚åˆå¼€å‘ç¯å¢ƒ

### ç¼ºç‚¹
- âš ï¸ åœ¨EC2ä¸Šæ„å»ºé•œåƒï¼Œä¾èµ–ç½‘ç»œä¸‹è½½ä¾èµ–
- âš ï¸ æ„å»ºæ—¶é—´é•¿ï¼Œå®¹æ˜“è¶…æ—¶
- âš ï¸ ç½‘ç»œä¸ç¨³å®šæ—¶å®¹æ˜“å¤±è´¥
- âš ï¸ EC2èµ„æºæ¶ˆè€—å¤§
- âš ï¸ æ¯æ¬¡éƒ¨ç½²éƒ½éœ€è¦é‡æ–°æ„å»º

## ğŸš€ ä¼˜åŒ–éƒ¨ç½²æ–¹å¼ (deploy-to-ec2-optimized.sh)

### æµç¨‹
1. æœ¬åœ°æ„å»ºDockeré•œåƒ
2. ä¿å­˜é•œåƒä¸ºtaræ–‡ä»¶
3. ä¼ è¾“é•œåƒæ–‡ä»¶åˆ°EC2
4. åœ¨EC2ä¸ŠåŠ è½½é•œåƒ
5. å¯åŠ¨å®¹å™¨

### ä¼˜ç‚¹
- âœ… æœ¬åœ°æ„å»ºï¼Œç¯å¢ƒå¯æ§
- âœ… é•œåƒæ–‡ä»¶ä¼ è¾“ï¼Œä¸ä¾èµ–ç½‘ç»œä¸‹è½½
- âœ… éƒ¨ç½²é€Ÿåº¦å¿«ï¼Œç¨³å®šæ€§é«˜
- âœ… EC2èµ„æºæ¶ˆè€—å°
- âœ… æ”¯æŒç¦»çº¿éƒ¨ç½²
- âœ… é•œåƒå¯é‡å¤ä½¿ç”¨

### ç¼ºç‚¹
- é¦–æ¬¡ä¼ è¾“é•œåƒæ–‡ä»¶è¾ƒå¤§
- éœ€è¦æœ¬åœ°Dockerç¯å¢ƒ

## ğŸ“ˆ æ€§èƒ½å¯¹æ¯”

### éƒ¨ç½²æ—¶é—´
```
åŸå§‹æ–¹å¼: 15-30åˆ†é’Ÿ
ä¼˜åŒ–æ–¹å¼: 5-10åˆ†é’Ÿ
```

### æˆåŠŸç‡
```
åŸå§‹æ–¹å¼: 70-80%
ä¼˜åŒ–æ–¹å¼: 95%+
```

### ç½‘ç»œä¾èµ–
```
åŸå§‹æ–¹å¼: é«˜ (éœ€è¦ä¸‹è½½Mavenä¾èµ–ã€npmåŒ…ç­‰)
ä¼˜åŒ–æ–¹å¼: ä½ (ä»…ä¼ è¾“é•œåƒæ–‡ä»¶)
```

## ğŸ› ï¸ ä½¿ç”¨å»ºè®®

### æ¨èä½¿ç”¨ä¼˜åŒ–æ–¹å¼
- **ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²**
- **ç½‘ç»œä¸ç¨³å®šç¯å¢ƒ**
- **å¿«é€Ÿè¿­ä»£éƒ¨ç½²**
- **å›¢é˜Ÿåä½œéƒ¨ç½²**

### ä½¿ç”¨åœºæ™¯
- **å¼€å‘æµ‹è¯•**: åŸå§‹æ–¹å¼
- **ç”Ÿäº§éƒ¨ç½²**: ä¼˜åŒ–æ–¹å¼
- **ç¦»çº¿ç¯å¢ƒ**: ä¼˜åŒ–æ–¹å¼
- **å¿«é€Ÿéƒ¨ç½²**: ä¼˜åŒ–æ–¹å¼

## ğŸ“‹ è„šæœ¬å¯¹æ¯”

| è„šæœ¬ | ç”¨é€” | æ¨èåº¦ |
|------|------|--------|
| `deploy-to-ec2.sh` | åŸå§‹éƒ¨ç½²æ–¹å¼ | â­â­â­ |
| `deploy-to-ec2-optimized.sh` | ä¼˜åŒ–éƒ¨ç½²æ–¹å¼ | â­â­â­â­â­ |
| `quick-deploy.sh` | åŸå§‹å¿«é€Ÿéƒ¨ç½² | â­â­â­ |
| `quick-deploy-optimized.sh` | ä¼˜åŒ–å¿«é€Ÿéƒ¨ç½² | â­â­â­â­â­ |

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### é•œåƒæ„å»ºä¼˜åŒ–
```bash
# åŸå§‹æ–¹å¼ï¼šåœ¨EC2ä¸Šæ„å»º
docker-compose build --no-cache

# ä¼˜åŒ–æ–¹å¼ï¼šæœ¬åœ°æ„å»º
docker-compose build --no-cache itwords-backend
docker-compose build --no-cache itwords-frontend
```

### æ–‡ä»¶ä¼ è¾“ä¼˜åŒ–
```bash
# åŸå§‹æ–¹å¼ï¼šä¼ è¾“æºä»£ç 
scp -r itwords_api/ itwords_display/ ec2-user@IP:~/deploy/

# ä¼˜åŒ–æ–¹å¼ï¼šä¼ è¾“é•œåƒæ–‡ä»¶
docker save image -o image.tar
scp image.tar ec2-user@IP:~/deploy/
```

### éƒ¨ç½²é…ç½®ä¼˜åŒ–
```bash
# åŸå§‹æ–¹å¼ï¼šä½¿ç”¨é¡¹ç›®docker-compose.yml
docker-compose up -d

# ä¼˜åŒ–æ–¹å¼ï¼šä½¿ç”¨ä¸“é—¨çš„deploy-compose.yml
docker-compose -f deploy-compose.yml up -d
```

## ğŸ¯ æœ€ä½³å®è·µ

### 1. é¦–æ¬¡éƒ¨ç½²
```bash
# ä½¿ç”¨ä¼˜åŒ–æ–¹å¼
./quick-deploy-optimized.sh
```

### 2. æ›´æ–°éƒ¨ç½²
```bash
# é‡æ–°æ„å»ºå¹¶éƒ¨ç½²
./deploy-to-ec2-optimized.sh
```

### 3. å¿«é€Ÿé‡å¯
```bash
# SSHåˆ°EC2
ssh -i sag-.pem ec2-user@57.180.30.179

# é‡å¯æœåŠ¡
cd ~/itwords-images
docker-compose -f deploy-compose.yml restart
```

### 4. æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
docker-compose -f deploy-compose.yml logs -f

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker-compose -f deploy-compose.yml logs -f itwords-backend
```

## ğŸ“ æ³¨æ„äº‹é¡¹

### ä¼˜åŒ–æ–¹å¼çš„æ³¨æ„äº‹é¡¹
1. **æœ¬åœ°Dockerç¯å¢ƒ**: ç¡®ä¿æœ¬åœ°Dockeræ­£å¸¸è¿è¡Œ
2. **é•œåƒå¤§å°**: é¦–æ¬¡ä¼ è¾“é•œåƒæ–‡ä»¶è¾ƒå¤§ï¼Œéœ€è¦è€å¿ƒç­‰å¾…
3. **ç£ç›˜ç©ºé—´**: EC2éœ€è¦è¶³å¤Ÿç©ºé—´å­˜å‚¨é•œåƒæ–‡ä»¶
4. **ç½‘ç»œç¨³å®šæ€§**: é•œåƒæ–‡ä»¶ä¼ è¾“éœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥

### æ•…éšœæ’é™¤
1. **é•œåƒæ„å»ºå¤±è´¥**: æ£€æŸ¥æœ¬åœ°Dockerç¯å¢ƒ
2. **ä¼ è¾“è¶…æ—¶**: æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œè€ƒè™‘åˆ†å—ä¼ è¾“
3. **åŠ è½½å¤±è´¥**: æ£€æŸ¥EC2ç£ç›˜ç©ºé—´
4. **å¯åŠ¨å¤±è´¥**: æŸ¥çœ‹å®¹å™¨æ—¥å¿—æ’æŸ¥é—®é¢˜

## ğŸ”„ è¿ç§»æŒ‡å—

### ä»åŸå§‹æ–¹å¼è¿ç§»åˆ°ä¼˜åŒ–æ–¹å¼
1. åœæ­¢ç°æœ‰æœåŠ¡
2. å¤‡ä»½é‡è¦æ•°æ®
3. ä½¿ç”¨ä¼˜åŒ–æ–¹å¼é‡æ–°éƒ¨ç½²
4. éªŒè¯æœåŠ¡æ­£å¸¸è¿è¡Œ

### æ•°æ®è¿ç§»
```bash
# å¤‡ä»½æ•°æ®åº“
docker exec itwords-mysql mysqldump -u root -proot itwords_db > backup.sql

# æ–°éƒ¨ç½²åæ¢å¤æ•°æ®
docker exec -i itwords-mysql mysql -u root -proot itwords_db < backup.sql
```

---

**æ€»ç»“**: ä¼˜åŒ–éƒ¨ç½²æ–¹å¼åœ¨ç¨³å®šæ€§ã€é€Ÿåº¦å’Œå¯é æ€§æ–¹é¢éƒ½æœ‰æ˜¾è‘—æå‡ï¼Œå¼ºçƒˆæ¨èåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ã€‚ 